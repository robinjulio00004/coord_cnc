<!doctype html>
<!--touch en Realidad Aumentada-->
<html lang="en-US">
	<head>
	<meta charset="utf-8"/> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<!--<meta name="viewport" content="width=x" />-->
    	<script src="aframe-v1.6.0.min.js"></script>
    	<script src="aframe-ar.js"></script>
		<link rel="stylesheet" href="styles.css">

	<script>
		//screen.orientation.lock('landscape');
		//screen.lockOrientation('landscape-primary');
		       AFRAME.registerComponent('touch-move', {
        init: function () {
          this.el.sceneEl.addEventListener('touchmove', this.onTouchMove.bind(this));
        },
        onTouchMove: function (evt) {

			evt.preventDefault(); // Prevent default browser behavior (e.g., scrolling)
          //console.log('Touch coordinates:', evt.touches[0].clientX, evt.touches[0].clientY);
  			const touchXElement = document.getElementById('touch-x');
  			const touchYElement = document.getElementById('touch-y');
			touchXElement.textContent = evt.touches[0].clientX.toFixed(2); // X-coordinate relative to viewport
    		touchYElement.textContent = evt.touches[0].clientY.toFixed(2); // Y-coordinate relative to viewport
    
          const scale = 0.006;
          this.el.setAttribute('position', {x: (evt.touches[0].clientX-window.innerWidth/2)*scale, y: (window.innerHeight/2-evt.touches[0].clientY)*scale, z: 0});
        },
      });

	</script>
		
	</head>
<body style="margin : 0px; overflow: hidden;">
	<!-- Valores de salida -->
	<div class="fmsg">
 	 <div id="msg1">
	<p>Touch X: <span id="touch-x"> </span></p>
  	
	 </div>
	 <div id="msg2">
	<p>Touch Y: <span id="touch-y"> </span></p>
	 </div>
	</div>
	<!-- Scene -->
	<a-scene arjs embedded renderer="logarithmicDepthBuffer: true;" xr-mode-ui="enabled: true">
	<!-- Asset Management -->	
	<a-assets>
    <a-asset-item id="bowser" src="https://cdn.glitch.com/06bd98b4-97ee-4c07-a546-fe39ca205034%2Fbowser.glb"></a-asset-item>
	<img id="img" src="coord_sist.png">
  	</a-assets>

	<a-image src="#img" width="3" height="1.5"></a-image>
	<a-entity gltf-model="#bowser" position="0 0 0" rotation="90 0 0" scale="0.025 0.025 0.025" touch-move></a-entity>
	<!--<a-plane position="0 0 0" rotation="0 0 0" width="3" height="3" color="#7BC8A4"></a-plane>-->
		
	<!-- Camera -->
	<a-entity camera position="0 0 6" look-controls-enabled="false"></a-entity>
		
</a-scene>
</body>
	<script>
	//document.querySelector('#msg1').innerHTML=(evt.touches[0].clientX-window.innerWidth/2)*scale;
	//document.querySelector('#msg2').innerHTML=(window.innerHeight/2-evt.touches[0].clientY)*scale;
	</script>
</html>





































































